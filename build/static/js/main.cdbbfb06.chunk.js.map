{"version":3,"sources":["components/layout/Header.js","components/CustomAvatar.js","components/User.js","components/Alert.js","components/Login.js","components/Signup.js","components/Profile.js","chat/NewMessage.js","components/Loader.js","chat/Chat.js","Routes.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","Header","props","classes","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Icon","Typography","variant","children","sm","width","height","md","lg","xl","bg","backgroundColor","CustomAvatar","name","avatar","size","Avatar","alt","src","clsx","charAt","MyLink","React","forwardRef","ref","to","withRouter","history","user","onLogout","useState","anchorEl","setAnchorEl","open","Boolean","handleClose","aria-controls","aria-haspopup","onClick","event","currentTarget","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","disabled","Link","component","firebase","auth","signOut","then","push","Alert1","elevation","marginTop","Alert","type","message","autoclose","severity","paper","display","flexDirection","alignItems","margin","palette","secondary","main","form","submit","email","password","setUser","errorMessage","setErrorMessage","handleChange","e","target","value","Container","maxWidth","CssBaseline","onSubmit","preventDefault","signInWithEmailAndPassword","response","catch","error","console","log","TextField","required","fullWidth","label","autoComplete","autoFocus","defaultValue","onChange","Button","Grid","container","item","alertMessage","setAlertMessage","createUserWithEmailAndPassword","database","uid","set","xs","justify","space","marginBottom","filename","marginLeft","file","useEffect","currentUser","once","snapshot","val","update","text","direction","paddingBottom","padding","border","borderRadius","justifyContent","flexWrap","box","paddingLeft","NewMessage","setMessage","handleSubmit","newMessage","date","Date","now","res","alert","Paper","square","sx","Box","endIcon","length","left","top","Loader","CircularProgress","paddingTop","list","maxHeight","overflow","listItem","visibility","buttonDelete","buttonEdit","buttonFavorite","setOpen","curDate","setCurDate","editMessage","setEditMessage","messages","setMessages","us","setUs","changeMessage","setChangeMessage","chatDomRef","useRef","addMessage","filter","sort","a","b","current","scrollTop","scrollHeight","chatRef","on","messageItem","userResp","includes","Dialog","aria-labelledby","DialogContent","DialogActions","orderByChild","equalTo","forEach","child","key","gutterBottom","List","map","ListItem","button","ListItemAvatar","ListItemText","primary","Tooltip","remove","handleRemove","handleEdit","Routes","exact","path","Chat","Login","Signup","Profile","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","App","onAuthStateChanged","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cdbbfb06.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst Header = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n          >\r\n            <Icon>menu</Icon>\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Chat App\r\n          </Typography>\r\n          {props.children}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\n\r\nconst useStyles = makeStyles({\r\n  sm: {\r\n    width: 28,\r\n    height: 28,\r\n  },\r\n  md: {\r\n    width: 42,\r\n    height: 42,\r\n  },\r\n  lg: {\r\n    width: 64,\r\n    height: 64,\r\n  },\r\n  xl: {\r\n    width: 84,\r\n    height: 84,\r\n  },\r\n  bg: {\r\n    backgroundColor: '#ff5722',\r\n  },\r\n});\r\n\r\nconst CustomAvatar = ({ name, avatar, size }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Avatar\r\n      alt={name}\r\n      src={avatar}\r\n      className={clsx(classes[size], !avatar ? classes.bg : null)}\r\n    >\r\n      {!avatar ? name.charAt(0) : null}\r\n      {/* {name} */}\r\n    </Avatar>\r\n  );\r\n};\r\n\r\nCustomAvatar.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  avatar: PropTypes.string,\r\n  size: PropTypes.oneOf(['sm', 'md', 'lg', 'xl']).isRequired,\r\n};\r\n\r\nexport default CustomAvatar;\r\n","import React from 'react';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Link as RouterLink, withRouter } from 'react-router-dom';\r\nimport Link from '@material-ui/core/Link';\r\n// import { withRouter } from 'react-router-dom';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\nimport CustomAvatar from './CustomAvatar';\r\n\r\nconst MyLink = React.forwardRef((props, ref) => (\r\n  <RouterLink ref={ref} to=\"/getting-started/installation/\" {...props} />\r\n));\r\n\r\nconst User = ({ history, user, onLogout }) => {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setAnchorEl(null);\r\n\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        if (onLogout) onLogout();\r\n        history.push('/login');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label=\"account of current user\"\r\n        aria-controls=\"menu-appbar\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleMenu}\r\n        color=\"inherit\"\r\n      >\r\n        <CustomAvatar name={user.name} avatar={user.avatar} size=\"sm\" />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"menu-appbar\"\r\n        anchorEl={anchorEl}\r\n        anchorOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        }}\r\n        keepMounted\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        }}\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem disabled>{user.name}</MenuItem>\r\n        <MenuItem>\r\n          <Link\r\n            to=\"/profile\"\r\n            component={MyLink}\r\n            variant=\"body2\"\r\n            onClick={handleClose}\r\n          >\r\n            My profile\r\n          </Link>\r\n        </MenuItem>\r\n        <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(User);\r\n","import React from 'react';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction Alert1(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst Alert = ({ type, message, autoclose }) => {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* <Snackbar autoHideDuration={autoclose}> */}\r\n      <Alert1 severity={type}>{message}</Alert1>\r\n      {/* </Snackbar> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Link as RouterLink, withRouter } from 'react-router-dom';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\n\r\nimport Alert from './Alert';\r\n\r\nconst MyLink = React.forwardRef((props, ref) => (\r\n  <RouterLink ref={ref} to=\"/getting-started/installation/\" {...props} />\r\n));\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst Login = (props) => {\r\n  const classes = useStyles();\r\n  const [user, setUser] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    setUser({\r\n      ...user,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    setErrorMessage('');\r\n\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(user.email, user.password)\r\n      .then((response) => {\r\n        props.history.push('/');\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        //alert(error.message);\r\n        setErrorMessage(error.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          login to chat app\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleLogin}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            defaultValue={user.email}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            defaultValue={user.password}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Login\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <Link to=\"/signup\" component={MyLink} variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      {errorMessage && (\r\n        <Alert type=\"error\" message={errorMessage} autoclose={5000} />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(Login);\r\n","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Link as RouterLink, withRouter } from 'react-router-dom';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\n\r\nimport Alert from './Alert';\r\n\r\nconst MyLink = React.forwardRef((props, ref) => (\r\n  <RouterLink ref={ref} to=\"/getting-started/installation/\" {...props} />\r\n));\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst Signup = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const [user, setUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    avatar: '',\r\n  });\r\n\r\n  const [alertMessage, setAlertMessage] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    setUser({\r\n      ...user,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setAlertMessage(null);\r\n\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(user.email, user.password)\r\n      .then((response) => {\r\n        delete user.password;\r\n        firebase.database().ref(`/users/${response.user.uid}`).set(user);\r\n        //alert('success signup');\r\n        setAlertMessage({\r\n          type: 'success',\r\n          message: 'welcome chat',\r\n        });\r\n        props.history.push('/');\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        //alert(error.message);\r\n        setAlertMessage({\r\n          type: 'error',\r\n          message: error.message,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          registration to chat app\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"name\"\r\n                name=\"name\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"name\"\r\n                label=\"name\"\r\n                autoFocus\r\n                value={user.name}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"avatar\"\r\n                label=\"URL avatar\"\r\n                name=\"avatar\"\r\n                value={user.avatar}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                value={user.email}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                value={user.password}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Registration\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link to=\"/login\" component={MyLink} variant=\"body2\">\r\n                Already have an account? Login\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      {alertMessage && (\r\n        <Alert\r\n          type={alertMessage.type}\r\n          message={alertMessage.message}\r\n          autoclose={5000}\r\n        />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(Signup);\r\n","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Input from '@material-ui/core/Input';\r\nimport { Link as RouterLink, withRouter } from 'react-router-dom';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\nimport CustomAvatar from './CustomAvatar';\r\nimport { loadUser } from '../utils/dbUtils';\r\n\r\nimport Alert from './Alert';\r\n\r\nconst MyLink = React.forwardRef((props, ref) => (\r\n  <RouterLink ref={ref} to=\"/getting-started/installation/\" {...props} />\r\n));\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  space: {\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  filename: {\r\n    marginLeft: 20,\r\n  },\r\n  file: {\r\n    marginTop: 20,\r\n    marginBottom: 10,\r\n    // marginLeft: '-1px',\r\n  },\r\n}));\r\n\r\nconst Profile = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const [user, setUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    avatar: '',\r\n  });\r\n\r\n  // const [image, setImage] = useState(null);\r\n\r\n  const [alertMessage, setAlertMessage] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    setUser({\r\n      ...user,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  // const handleImage = (e) => {\r\n  //   if (!e.target.files[0]) return;\r\n  //   const file = e.target.files[0];\r\n  //   setImage({\r\n  //     type: file.type.split('/')[1],\r\n  //     file,\r\n  //   });\r\n  // };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setAlertMessage(null);\r\n\r\n    const { currentUser } = firebase.auth();\r\n\r\n    // if (image) {\r\n    //   user.avatar = `${currentUser.uid}.${image.type}`;\r\n    //   firebase\r\n    //     .storage()\r\n    //     .ref(`/avatars/${user.avatar}`)\r\n    //     .put(image.file)\r\n    //     .then(() => {\r\n    //       firebase\r\n    //         .storage()\r\n    //         .ref()\r\n    //         .child(`/avatars/${user.avatar}`)\r\n    //         .getDownloadURL()\r\n    //         .then((url) => {\r\n    //           setUser({ ...user, avatar: url });\r\n    //         });\r\n    //     });\r\n    // }\r\n\r\n    firebase\r\n      .database()\r\n      .ref(`/users/${currentUser.uid}`)\r\n      .update(user)\r\n      .then((response) => {\r\n        setAlertMessage({ type: 'success', text: 'profile update' });\r\n      })\r\n      .catch((error) => {\r\n        setAlertMessage({ type: 'error', text: error.message });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (firebase.auth().currentUser) {\r\n      // console.log('currentUser', firebase.auth().currentUser);\r\n      //read data\r\n      firebase\r\n        .database()\r\n        .ref(`/users/${firebase.auth().currentUser.uid}`)\r\n        .once('value')\r\n        .then((snapshot) => {\r\n          setUser(snapshot.val());\r\n        });\r\n\r\n      // loadUser(firebase.auth().currentUser.uid).then(\r\n      //   (data) => {\r\n      //     setUser(data);\r\n      //     // console.log('data', firebase.auth().currentUser.uid);\r\n      //   },\r\n      //   (error) => {\r\n      //     setAlertMessage({ type: 'error', message: error.message });\r\n      //   }\r\n      // );\r\n    } else {\r\n      props.history.push('/login');\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          my profile\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <Grid\r\n            container\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            direction=\"column\"\r\n          >\r\n            <CustomAvatar name={user.name} avatar={user.avatar} size=\"xl\" />\r\n            <span className={classes.space}>{user.email}</span>\r\n          </Grid>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"name\"\r\n                name=\"name\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"name\"\r\n                label=\"name\"\r\n                autoFocus\r\n                value={user.name}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"avatar\"\r\n                label=\"URL avatar\"\r\n                name=\"avatar\"\r\n                value={user.avatar}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                value={user.email}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            {/* <Grid item xs={12}>\r\n              <Input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                id=\"avatar\"\r\n                name=\"avatar\"\r\n                style={{ width: '0px' }}\r\n                onChange={handleImage}\r\n              />\r\n              <label htmlFor=\"avatar\">\r\n                <Button\r\n                  className={classes.file}\r\n                  variant=\"contained\"\r\n                  component=\"span\"\r\n                >\r\n                  image profile\r\n                </Button>\r\n                {image && (\r\n                  <span className={classes.filename}>{image.file.name}</span>\r\n                )}\r\n              </label>\r\n            </Grid> */}\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Save profile\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link to=\"/\" component={MyLink} variant=\"body2\">\r\n                Go to chat\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      {alertMessage && (\r\n        <Alert\r\n          type={alertMessage.type}\r\n          message={alertMessage.text}\r\n          autoclose={5000}\r\n        />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(Profile);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\nimport \"firebase/auth\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    paddingBottom: 20,\r\n  },\r\n  message: {\r\n    padding: \"0 20px\",\r\n    border: \"1px solid #ccc\",\r\n    borderRadius: 8,\r\n    justifyContent: \"space-between\",\r\n    flexWrap: \"nowrap\",\r\n  },\r\n  box: {\r\n    height: \"100%\",\r\n    paddingLeft: 20,\r\n  },\r\n}));\r\n\r\nconst NewMessage = () => {\r\n  const classes = useStyles();\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { currentUser } = firebase.auth();\r\n    // console.log('currentUser', currentUser);\r\n    if (!currentUser) return;\r\n\r\n    const newMessage = {\r\n      user: currentUser.uid,\r\n      message,\r\n      // date: firebase.database.ServerValue.TIMESTAMP,\r\n      date: Date.now(),\r\n      id: currentUser.uid,\r\n    };\r\n\r\n    firebase\r\n      .database()\r\n      .ref(\"/chat\")\r\n      .push(newMessage)\r\n      .then((res) => {\r\n        setMessage(\"\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        alert(error.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Paper square className={classes.paper}>\r\n      <form onSubmit={handleSubmit}>\r\n        <Grid container spacing={0} direction=\"row\" className={classes.message}>\r\n          <Grid item sx={10} xs={12}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              name=\"message\"\r\n              required\r\n              fullWidth\r\n              id=\"message\"\r\n              label=\"message\"\r\n              autoFocus\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value)}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={2}>\r\n            <Box display=\"flex\" alignItems=\"center\" className={classes.box}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                endIcon={<Icon>send</Icon>}\r\n                fullWidth\r\n                disabled={!message.length}\r\n                onClick={handleSubmit}\r\n              >\r\n                Send\r\n              </Button>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default NewMessage;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // display: 'flex',\r\n    // '& > * + *': {\r\n    //   marginLeft: theme.spacing(2),\r\n\r\n    // },\r\n    position: 'absolute',\r\n    left: '50%',\r\n    top: '40%',\r\n  },\r\n}));\r\n\r\nconst Loader = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CircularProgress />\r\n      {/* <CircularProgress color=\"secondary\" /> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport List from \"@material-ui/core/List\";\r\n\r\nimport Input from \"@material-ui/core/Input\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\nimport \"firebase/auth\";\r\nimport NewMessage from \"./NewMessage\";\r\nimport CustomAvatar from \"../components/CustomAvatar\";\r\n\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport FavoritIcon from \"@material-ui/icons/Favorite\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Loader from \"../components/Loader\";\r\nimport { Divider } from \"@material-ui/core\";\r\n\r\n// const DialogContent = withStyles((theme) => ({\r\n//   root: {\r\n//     padding: theme.spacing(2),\r\n//   },\r\n// }))(MuiDialogContent);\r\n\r\n// const DialogActions = withStyles((theme) => ({\r\n//   root: {\r\n//     margin: 0,\r\n//     padding: theme.spacing(1),\r\n//   },\r\n// }))(MuiDialogActions);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  text: {\r\n    padding: theme.spacing(2, 2, 0),\r\n  },\r\n  paper: {\r\n    paddingBottom: 50,\r\n    paddingTop: 15,\r\n    height: \"70vh\",\r\n  },\r\n  list: {\r\n    marginBottom: theme.spacing(3),\r\n    maxHeight: \"100%\",\r\n    overflow: \"auto\",\r\n  },\r\n\r\n  listItem: {\r\n    \"&:hover $buttonDelete\": {\r\n      visibility: \"inherit\",\r\n    },\r\n    \"&:hover $buttonEdit\": {\r\n      visibility: \"inherit\",\r\n    },\r\n    \"&:hover $buttonFavorite\": {\r\n      visibility: \"inherit\",\r\n    },\r\n  },\r\n  buttonDelete: { visibility: \"hidden\" },\r\n  buttonEdit: { visibility: \"hidden\" },\r\n  buttonFavorite: { visibility: \"hidden\" },\r\n}));\r\n\r\nconst Chat = ({ history }) => {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  let [curDate, setCurDate] = React.useState();\r\n\r\n  let [editMessage, setEditMessage] = useState(\"\");\r\n\r\n  const classes = useStyles();\r\n  let [messages, setMessages] = useState([]);\r\n  const [us, setUs] = useState(null);\r\n  const [changeMessage, setChangeMessage] = React.useState(editMessage);\r\n  const chatDomRef = useRef();\r\n\r\n  const addMessage = (message) => {\r\n    messages.push(message);\r\n\r\n    setMessages([\r\n      ...messages\r\n        .filter((e) => e.message.date !== message.date)\r\n        .sort((a, b) => a.date - b.date),\r\n    ]);\r\n\r\n    if (chatDomRef.current) {\r\n      chatDomRef.current.scrollTop = chatDomRef.current.scrollHeight;\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setChangeMessage(event.target.value);\r\n    // console.log(event.target.value);\r\n  };\r\n\r\n  const sendEditMessage = (date, userId) => {\r\n    let ref = firebase.database().ref(\"chat\");\r\n\r\n    ref\r\n      .orderByChild(\"date\")\r\n      .equalTo(curDate)\r\n\r\n      .on(\"value\", (snapshot) => {\r\n        snapshot.forEach((child) => {\r\n          let a = firebase.database().ref(`/chat/${child.key}`).key;\r\n\r\n          firebase\r\n            .database()\r\n            .ref(`chat/${a}`)\r\n            .update({ message: changeMessage });\r\n\r\n          console.log(\"1\", messages);\r\n        });\r\n      });\r\n\r\n    console.log(\"3\", messages);\r\n\r\n    setOpen(false);\r\n\r\n    console.log(\"final-edit-message\", changeMessage);\r\n  };\r\n\r\n  const handleEdit = (date, message) => {\r\n    setOpen(true);\r\n\r\n    let ref = firebase.database().ref(\"chat\");\r\n\r\n    ref\r\n      .orderByChild(\"date\")\r\n      .equalTo(date)\r\n      .on(\"value\", (snapshot) => {\r\n        snapshot.forEach((child) => {\r\n          console.log(\"snapshot-val\", snapshot.val());\r\n          console.log(\r\n            \"child.key\",\r\n            firebase.database().ref(`/chat/${child.key}`)\r\n          );\r\n          setEditMessage(message);\r\n\r\n          // console.log(\"edit-message\", editMessage);\r\n          // console.log(date);\r\n          setCurDate(date);\r\n        });\r\n      });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleRemove = (date) => {\r\n    let ref = firebase.database().ref(\"chat\");\r\n\r\n    ref\r\n      .orderByChild(\"date\")\r\n      .equalTo(date)\r\n      .on(\"value\", (snapshot) => {\r\n        snapshot.forEach((child) => {\r\n          firebase.database().ref(`/chat/${child.key}`).remove();\r\n          // console.log(\"child---\", child);\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // setMessages(messages);\r\n    const chatRef = firebase.database().ref(\"/chat\");\r\n\r\n    chatRef.on(\r\n      \"child_added\",\r\n      (snapshot) => {\r\n        //  new message\r\n        const messageItem = snapshot.val();\r\n\r\n        firebase\r\n          .database()\r\n          .ref(`/users/${messageItem.user}`)\r\n          .once(\"value\")\r\n          .then((userResp) => {\r\n            messageItem.user = userResp.val();\r\n            setUs(firebase.auth().currentUser.uid);\r\n            console.log(\"messageitem\", messageItem);\r\n            // console.log(\"messageitem-messagwe\", messageItem.message);\r\n            addMessage(messageItem);\r\n          });\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        if (error.message.includes(\"permission_denied\")) {\r\n          history.push(\"/login\");\r\n        }\r\n      }\r\n    );\r\n    chatRef.on(\r\n      \"child_removed\",\r\n      (snapshot) => {\r\n        const messageItem = snapshot.val();\r\n\r\n        messages = messages\r\n          .filter((e) => e.date !== messageItem.date)\r\n          .sort((a, b) => a.date - b.date);\r\n\r\n        setMessages(messages);\r\n        console.log(messages);\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        if (error.message.includes(\"permission_denied\")) {\r\n          history.push(\"/login\");\r\n        }\r\n      }\r\n    );\r\n    chatRef.on(\r\n      \"child_changed\",\r\n      (snapshot) => {\r\n        const messageItem = snapshot.val();\r\n\r\n        firebase\r\n          .database()\r\n          .ref(`/users/${messageItem.user}`)\r\n          .once(\"value\")\r\n          .then((userResp) => {\r\n            messageItem.user = userResp.val();\r\n            setUs(firebase.auth().currentUser.uid);\r\n            console.log(\"messageitem\", messageItem);\r\n            // console.log(\"messageitem-messagwe\", messageItem.message);\r\n            addMessage(messageItem);\r\n          });\r\n\r\n        messages = messages\r\n          .filter((e) => e.date !== messageItem.date)\r\n          .sort((a, b) => a.date - b.date);\r\n\r\n        // console.log(snapshot.val().message);\r\n        console.log(\"child_changed-messages\", messages);\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        if (error.message.includes(\"permission_denied\")) {\r\n          history.push(\"/login\");\r\n        }\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <Dialog\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogContent>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"edit message\"\r\n              type=\"text\"\r\n              fullWidth\r\n              defaultValue={editMessage}\r\n              onChange={handleChange}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={() => {\r\n                sendEditMessage();\r\n              }}\r\n              color=\"primary\"\r\n            >\r\n              Send\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n      <Paper square className={classes.paper}>\r\n        <Typography className={classes.text} variant=\"h5\" gutterBottom>\r\n          Chat\r\n        </Typography>\r\n        {!us && <Loader />}\r\n        <List className={classes.list} ref={chatDomRef}>\r\n          {messages.map(({ date, user, message, id }) => (\r\n            <ListItem button key={date} className={classes.listItem}>\r\n              <ListItemAvatar>\r\n                <CustomAvatar name={user.name} avatar={user.avatar} size=\"md\" />\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                primary={user ? user.name : \"anonymous\"}\r\n                secondary={message}\r\n              />\r\n              {/* {console.log(key)} */}\r\n              {us === id ? (\r\n                <div>\r\n                  <Tooltip title=\"Delete\">\r\n                    <IconButton\r\n                      aria-label=\"delete\"\r\n                      className={classes.buttonDelete}\r\n                      onClick={() => {\r\n                        handleRemove(date);\r\n                      }}\r\n                    >\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Edit\">\r\n                    <IconButton\r\n                      aria-label=\"edit\"\r\n                      className={classes.buttonEdit}\r\n                      onClick={() => {\r\n                        handleEdit(date, message);\r\n                      }}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </div>\r\n              ) : // <Tooltip title=\"Favorite\">\r\n              //   <IconButton\r\n              //     aria-label=\"favorite\"\r\n              //     className={classes.buttonFavorite}\r\n              //   >\r\n              //     <FavoritIcon />\r\n              //   </IconButton>\r\n              // </Tooltip>\r\n              null}\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Paper>\r\n      <NewMessage />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(Chat);\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport Login from './components/Login';\r\nimport Signup from './components/Signup';\r\nimport Profile from './components/Profile';\r\nimport Chat from './chat/Chat';\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <Route exact path=\"/\" component={Chat} />\r\n    <Route exact path=\"/login\" component={Login} />\r\n    <Route exact path=\"/signup\" component={Signup} />\r\n    <Route exact path=\"/profile\" component={Profile} />\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport Header from './components/layout/Header';\r\nimport User from './components/User';\r\nimport Routes from './Routes';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\nimport { loadUser } from './utils/dbUtils';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyAc8rRwv_gUz8mXhSmYI5x8WlgCveDo3hM',\r\n  authDomain: 'chat-react-9a725.firebaseapp.com',\r\n  databaseURL: 'https://chat-react-9a725.firebaseio.com',\r\n  projectId: 'chat-react-9a725',\r\n  storageBucket: 'chat-react-9a725.appspot.com',\r\n  messagingSenderId: '180298420289',\r\n  appId: '1:180298420289:web:73549a94af6bd2306df6c0',\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const onLogout = () => {\r\n    setUser(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((response) => {\r\n      if (response) {\r\n        // loadUser(response.uid).then((data) => {\r\n        //   setUser(data);\r\n        // });\r\n        firebase\r\n          .database()\r\n          .ref(`/users/${response.uid}`)\r\n          .once('value')\r\n          .then((snapshot) => {\r\n            setUser(snapshot.val());\r\n          });\r\n      }\r\n    });\r\n  }, []);\r\n  return (\r\n    <Router>\r\n      <CssBaseline />\r\n      <Header>{user && <User user={user} onLogout={onLogout} />}</Header>\r\n      <Routes />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}